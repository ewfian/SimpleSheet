!function e(t,r,n){function i(s,u){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DynamicElement=s;var n=e("./../utilities"),i=e("./element"),o=e("./../mvvm");function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(i.Element.call(this,e,t,r),this.watchers=[],(0,n.isObject)(t))for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];u.call(this,o,s)}(0,n.isObject)(r)&&r.hasOwnProperty("__bind__")&&(this.watchers.push({model:r.__bind__.model,expression:r.$expression,update:function(e,t){var r=void 0===e?"":e;this.textContent=r}}),this.children=[].concat(r.$value))}function u(e,t){var r=this;switch(e){case"style":var i=function(e){if(t.hasOwnProperty(e)){var i=t[e];i.hasOwnProperty("__bind__")&&(t[e]=i.$value,r.watchers.push({model:i.__bind__.model,expression:i.$expression,update:function(t,r){var i=void 0===t?"":t;this.style[e]=(0,n.getPixelValue)(e,i)}}))}};for(var o in t)i(o);break;case"value":if(t.hasOwnProperty("__bind__")){var s=this.tagName||"";"input"!==(s=s.toLowerCase())&&"textarea"!==s||(this.props.value=t.$value,this.watchers.push({model:t.__bind__.model,expression:t.$expression,update:function(e,t){var r=void 0===e?"":e;this.value=r}}))}break;case"textContent":t.hasOwnProperty("__bind__")&&(this.props[e]=t.$value,this.watchers.push({model:t.__bind__.model,expression:t.$expression,update:function(e,t){var r=void 0===e?"":e;this.textContent=r}}));break;default:t.hasOwnProperty("__bind__")&&(this.props[e]=t.$value,this.watchers.push({model:t.__bind__.model,expression:t.$expression,update:function(t,r){var i=void 0===t?"":t;(0,n.setAttr)(this,e,i)}}))}}(0,n.inherits)(s,i.Element),s.prototype.render=function(){var e=this.__proto__.__proto__.render.call(this);return e._watchers=[],this.watchers.forEach(function(t){return e._watchers.push(new o.Watcher(t.model,t.expression,t.update.bind(e)))}),e}},{"./../mvvm":8,"./../utilities":15,"./element":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Element=i;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./../utilities"));function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!(this instanceof i))return n.isArray(r)||null==r||(r=n.slice(arguments,2).filter(n.truthy)),new i(e,t,r);!n.isObject(t)&&n.isArray(t)&&(r=t,t={}),this.tagName=e,this.props=t||{},this.children=n.isArray(r)?r:[].concat(r)}i.prototype.appendChild=function(e){this.children.push(e)},i.prototype.appendChildren=function(e){var t;(t=this.children).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))},i.prototype.render=function(){var e=document.createElement(this.tagName),t=this.props;if(n.isObject(t))for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];n.setAttr(e,r,o)}return this.children.forEach(function(t){e.appendChild(t instanceof i?t.render():document.createTextNode(t))}),e}},{"./../utilities":15}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ElementList=u;var n=e("./../mvvm"),i=e("../utilities"),o=e("./dynamicelement");function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t,r){var n=this,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"div",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"div";if(!(0,i.isArray)(e.$value))throw"InvalidArgumentException";if(this.bindModel=e,this.parentProps=t,this.props=r,this.parentTagName=u,this.tagName=l,this.bindTemplates=[],this.elements=[],this.watchers=[],(0,i.isObject)(r))for(var c in r)if(r.hasOwnProperty(c)){var h=r[c];a.call(this,c,h)}e.$value.forEach(function(e){var t=(0,i.deepCopyBoundProps)(r);n.bindTemplates.forEach(function(r){return(0,i.updateObjectByPath)(t,e[r.key],r.path)}),n.elements.push(new o.DynamicElement(l,t))}),this.watchers.push({model:this.bindModel.__bind__.model,expression:this.bindModel.$expression,update:function(e,t,r,n){var u=this,a=null;switch(["push","unshift"].indexOf(r)>-1&&n.length>0&&(this._bindTemplates.forEach(function(e){return(0,i.updateObjectByPath)(u._props,n[0][e.key],e.path)}),a=new o.DynamicElement(this.tagName,this._props).render()),r){case"push":n.length>0&&this.appendChild(a);break;case"shift":this.hasChildNodes()&&this.firstChild.remove();break;case"pop":this.hasChildNodes()&&this.lastChild.remove();break;case"unshift":n.length>0&&this.insertBefore(a,this.firstChild);break;case"reverse":Array.prototype.slice.call(this.children).map(function(e){return u.removeChild(e)}).reverse().forEach(function(e){return u.appendChild(e)});break;case"splice":var l=Array.prototype.slice.call(this.children).map(function(e){return u.removeChild(e)});l.splice.apply(l,s([].slice.call(n,0,2)).concat(s([].slice.call(n,2).map(function(e){return u._bindTemplates.forEach(function(t){return(0,i.updateObjectByPath)(u._props,e[t.key],t.path)}),new o.DynamicElement(u.tagName,u._props).render()})))),l.forEach(function(e){return u.appendChild(e)});break;default:throw"NotImplementedException"}}})}function a(e,t){switch(e){case"style":for(var r in t)t.hasOwnProperty(r)&&this.bindTemplates.push({path:e+"."+r,key:t[r].$key});break;default:t.hasOwnProperty("__bind__")&&this.bindTemplates.push({path:e,key:t.$key})}}u.prototype.render=function(){var e=new o.DynamicElement(this.parentTagName,this.parentProps,this.elements).render();return e._props=this.props,e._bindTemplates=this.bindTemplates,this.watchers.forEach(function(t){return e._watchers.push(new n.Watcher(t.model,t.expression,t.update.bind(e)))}),e}},{"../utilities":15,"./../mvvm":8,"./dynamicelement":1}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./element");Object.defineProperty(r,"Element",{enumerable:!0,get:function(){return n.Element}});var i=e("./dynamicelement");Object.defineProperty(r,"DynamicElement",{enumerable:!0,get:function(){return i.DynamicElement}});var o=e("./elementlist");Object.defineProperty(r,"ElementList",{enumerable:!0,get:function(){return o.ElementList}})},{"./dynamicelement":1,"./element":2,"./elementlist":3}],5:[function(e,t,r){"use strict";e("./utilities/polyfill");var n=e("./simplesheet");window.SimpleSheet||(window.SimpleSheet=n.SimpleSheet)},{"./simplesheet":13,"./utilities/polyfill":16}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){var i=!1;e.addEventListener("scroll",function(e){var n=e.target,o=n.scrollTop,s=n.scrollLeft;i||(requestAnimationFrame(function(){t.style.top=-o+"px",r.style.left=-s+"px",i=!1}),i=!0)});var o=void 0,s=new n.Vector2,u=new n.Vector2,a=new n.Vector2,l=0,c=0;e.addEventListener("touchstart",function(t){t.preventDefault(),s.x=t.changedTouches[0].pageX,s.y=t.changedTouches[0].pageY,l=e.scrollLeft,c=e.scrollTop,o=t.timeStamp},!1),e.addEventListener("touchmove",function(t){t.preventDefault();var r=e.getBoundingClientRect(),i=new n.Vector2(t.changedTouches[0].pageX,t.changedTouches[0].pageY);if(u=i.subtract(s),a=u,i.x>r.left&&i.y>r.top&&i.x<r.left+r.width&&i.y<r.top+r.height){var o=a.getAngleDegrees();o>=-135&&o<=-45?a.x=0:o>45&&o<135?a.x=0:o>=135&&o<=180||o>=-180&&o<-135?a.y=0:o>=-45&&o<=45&&(a.y=0);var h=c-a.y,d=l-a.x;e.scrollTop=Math.max(Math.min(h,e.scrollHeight),0),e.scrollLeft=Math.max(Math.min(d,e.scrollWidth),0)}},!1),e.addEventListener("touchend",function(t){t.preventDefault();var r=t.timeStamp-o,i=u.length()/r*10,s=10*i,l=0;!function t(){var r=new n.Vector2(e.scrollLeft,e.scrollTop),o=a.length();if(o>0){var u=a.divide(o),c=1-l/s,h=n.easingFuncs.easeInOutQuad(c);r=r.subtract(u.multiply(i*h)),e.scrollLeft=r.x,e.scrollTop=r.y}l<s&&(l++,requestAnimationFrame(t))}()},!1)};var n=e("./../utilities")},{"./../utilities":15}],7:[function(e,t,r){"use strict";function n(){this._subsQueue=[],this.id=(Math.random()+1).toString(36).substring(2)}Object.defineProperty(r,"__esModule",{value:!0}),r.Depend=n,n.prototype.addSub=function(e){this._subsQueue.push(e)},n.prototype.notify=function(e,t){this._subsQueue.forEach(function(r){r.run(e,t)})},n.prototype.removeSub=function(e){var t=this._subsQueue.indexOf(e);t>-1&&this._subsQueue.splice(t,1)},n.prototype.destroy=function(){this._subsQueue=[]},n.target=null},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./mvvm");Object.defineProperty(r,"Mvvm",{enumerable:!0,get:function(){return n.Mvvm}});var i=e("./watcher");Object.defineProperty(r,"Watcher",{enumerable:!0,get:function(){return i.Watcher}})},{"./mvvm":9,"./watcher":11}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Mvvm=o;var n=e("./observer"),i=e("./../utilities");function o(e){this.model=e||{},this.observer=new n.Observer(e)}o.prototype.bindModel=function(e){var t=this.model,r=(0,i.parseExpression)(e)(this.model);return r?{__bind__:{model:t},$expression:e,$value:r}:null},o.prototype.bindItem=function(e){var t=this.model;return e?{__bind__:{model:t},$key:e}:null}},{"./../utilities":15,"./observer":10}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Observer=function(e){this.$observe=function(e){(0,i.isArray)(e)?this.$cloneArray(e):(0,i.isObject)(e)&&this.$observeObj(e)},this.$observeObj=function(e){for(var t in e){var r=e[t];s(e,t,r),"__observe__"!=t&&this.$observe(r)}},this.$cloneArray=function(e){var t=Array.prototype,r=Object.create(t);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(n){Object.defineProperty(r,n,{value:function(r){var i=e.__observe__,o=t[n].apply(e,arguments);return i.notify(n,arguments),o},enumerable:!1,configurable:!0,writable:!0})}),e.__proto__=r},this.$observe(e)};var n=e("./depend"),i=e("./../utilities");var o=function(e){if(e&&(0,i.isObject)(e)){var t=new n.Depend;return(0,i.isArray)(e)?(e.__observe__=t,t):void 0}};function s(e,t,r){if("__observe__"!=t){r=r||e[t];var i=new n.Depend;e.__observe__=i;var s=o(r);Object.defineProperty(e,t,{get:function(){var e=n.Depend.target;return e&&(i.addSub(e),s&&s.addSub(e)),r},set:function(e){e!=r&&(r=e,i.notify())}})}}},{"./../utilities":15,"./depend":7}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Watcher=o;var n=e("./depend"),i=e("./../utilities");function o(e,t,r){this.model=e,this.expression=t,this.update=r,this.getter=(0,i.parseExpression)(t),n.Depend.target=this,this.value=this.getter(e),n.Depend.target=null}o.prototype.run=function(e,t){var r=this.value,n=this.value=this.getter(this.model);this.update(n,r,e,t)}},{"./../utilities":15,"./depend":7}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SheetLayout=s;var n=e("./utilities"),i=e("./elements"),o=e("./mvvm");function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:96,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:103,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:72;this._options={rows:t,columns:r,rowHeight:n,columnWidth:s},this.viewModel={axis:{horizontal:[],vertical:[]},grid:{width:1,height:1}};var u=this.mvvm=new o.Mvvm(this.viewModel),a=new i.ElementList(u.bindModel("axis.horizontal"),{class:"ruler-cells"},{class:"ruler-cell",style:{width:u.bindItem("width")},textContent:u.bindItem("text")}).render(),l=new i.ElementList(u.bindModel("axis.vertical"),{class:"ruler-cells"},{class:"ruler-cell",style:{height:u.bindItem("height")},textContent:u.bindItem("text")}).render(),c=new i.ElementList(u.bindModel("axis.vertical"),{class:"h-lines",style:{width:u.bindModel("grid.width")}},{class:"line",style:{height:u.bindItem("height")}}).render(),h=new i.ElementList(u.bindModel("axis.horizontal"),{class:"v-lines",style:{height:u.bindModel("grid.height")}},{class:"line",style:{width:u.bindItem("width")}}).render();e.querySelector(".horizontal-ruler").appendChild(a),e.querySelector(".vertical-ruler").appendChild(l),e.querySelector(".grid-bg").appendChild(c),e.querySelector(".grid-bg").appendChild(h)}s.prototype.initModel=function(){var e=this.viewModel,t=this._options;(0,n.runNTimes)(t.columns,function(r){e.axis.horizontal.push({width:t.columnWidth,text:(0,n.generateRulerText)(r)})}),e.axis.horizontal.shift(),e.axis.horizontal.unshift({width:200,text:"A"}),(0,n.runNTimes)(t.rows,function(r){e.axis.vertical.push({height:t.rowHeight,text:r+1})}),e.axis.vertical.shift(),e.axis.vertical.unshift({height:200,text:"1"}),e.grid.width=e.axis.horizontal.map(function(e){return e.width}).reduce(function(e,t){return e+t}),e.grid.height=e.axis.vertical.map(function(e){return e.height}).reduce(function(e,t){return e+t})}},{"./elements":4,"./mvvm":8,"./utilities":15}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SimpleSheet=function(e){var t=this.container=document.querySelector(e);new s.SheetLayout(t).initModel(),(0,o.default)(t.querySelector(".table-grid"),t.querySelector(".vertical-ruler"),t.querySelector(".horizontal-ruler .ruler-cells"))};var n,i=e("./events/tablescrollevents"),o=(n=i)&&n.__esModule?n:{default:n},s=e("./sheetlayout")},{"./events/tablescrollevents":6,"./sheetlayout":12}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./util");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})});var i=e("./vector2");Object.defineProperty(r,"Vector2",{enumerable:!0,get:function(){return i.Vector2}});var o=e("./easingfuncs");Object.defineProperty(r,"easingFuncs",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},{"./easingfuncs":14,"./util":17,"./vector2":18}],16:[function(e,t,r){"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,r;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),r=0;r<i;){var o;r in n&&(o=n[r],e.call(t,o,r,n)),r++}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},writable:!0,configurable:!0}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=["background-position-x","background-position-y","background-repeat-x","background-repeat-y","baseline-shift","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-image-width","border-left-width","border-radius","border-right-width","border-spacing","border-top-left-radius","border-top-right-radius","border-top-width","border-width","bottom","font-size","height","left","letter-spacing","line-height","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","outline-offset","outline-width","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","right","stroke-width","text-indent","text-line-through-width","text-overline-width","text-underline-width","top","width","word-spacing"],o=function(e){return Object.prototype.toString.call(e).replace(/\[object\s|\]/g,"")},s=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},u=function(e){return e&&"object"==(void 0===e?"undefined":n(e))&&(e==window||e instanceof Object)},a=function(e,t){return i.indexOf(e)>-1&&s(t)?t+"px":t},l=function(e){return JSON.parse(JSON.stringify(e,function(e,t){return"__observe__"==e?void 0:t}))};r.truthy=function(e){return!!e},r.slice=function(e,t){return Array.prototype.slice.call(e,t)},r.isArray=function(e){return"Array"===o(e)},r.isString=function(e){return"String"===o(e)},r.isNumeric=s,r.isObject=u,r.setAttr=function(e,t,r){switch(t){case"style":for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];e.style[n]=a(n,i)}break;case"value":var o=e.tagName||"";"input"===(o=o.toLowerCase())||"textarea"===o?e.value=r:e.setAttribute(t,r);break;case"textContent":e.textContent=r;break;default:e.setAttribute(t,r)}},r.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},r.generateRulerText=function(e){var t=[];for(e+=1;e>0;){var r=e%26||26;t.unshift(String.fromCharCode(64+r)),e=(e-r)/26}return t.join("")},r.parseExpression=function(e){var t=e.split(".");return function(e){return t.forEach(function(t){e=e[t.trim()]}),u(e)?l(e):e}},r.getPixelValue=a,r.updateObjectByPath=function(e,t,r){for(var n=r.split(".");n.length>1;)e=e[n.shift()];e[n.shift()]=t},r.deepCopyBoundProps=l,r.runNTimes=function(e,t){for(var r=0;e-- >0;)t(r++)}},{}],18:[function(e,t,r){"use strict";function n(e,t){this.x=e||0,this.y=t||0}Object.defineProperty(r,"__esModule",{value:!0}),r.Vector2=n,n.prototype.negative=function(){return new n(-this.x,-this.y)},n.prototype.add=function(e){return e instanceof n?new n(this.x+e.x,this.y+e.y):new n(this.x+e,this.y+e)},n.prototype.subtract=function(e){return e instanceof n?new n(this.x-e.x,this.y-e.y):new n(this.x-e,this.y-e)},n.prototype.multiply=function(e){return e instanceof n?new n(this.x*e.x,this.y*e.y):new n(this.x*e,this.y*e)},n.prototype.divide=function(e){return e instanceof n?new n(this.x/e.x,this.y/e.y):new n(this.x/e,this.y/e)},n.prototype.equals=function(e){return this.x==e.x&&this.y==e.y},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.cross=function(e){return this.x*e.y-this.y*e.x},n.prototype.length=function(){return Math.sqrt(this.dot(this))},n.prototype.unit=function(){return this.divide(this.length())},n.prototype.toArray=function(e){return[this.x,this.y].slice(0,e||2)},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.init=function(e,t){return this.x=e,this.y=t,this},n.prototype.getAngleDegrees=function(){return 180*Math.atan2(this.y,this.x)/Math.PI}},{}]},{},[5]);