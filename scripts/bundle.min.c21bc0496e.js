!function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Div=o;var n=e("./../utilities"),i=e("./element");function o(e,t,r){i.Element.call(this,"div",Object.assign({class:e},r),t)}(0,n.inherits)(o,i.Element)},{"./../utilities":15,"./element":3}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DynamicElement=s;var n=e("./../utilities"),i=e("./element"),o=e("./../mvvm");function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(i.Element.call(this,e,t,r),this.watchers=[],(0,n.isObject)(t))for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.call(this,o,s)}(0,n.isObject)(r)&&r.hasOwnProperty("__bind__")&&(this.watchers.push({model:r.__bind__.model,expression:r.$expression,update:function(e,t){var r=void 0===e?"":e;this.textContent=r}}),this.children=[].concat(r.$value))}function a(e,t){var r=this;switch(e){case"style":var i=function(e){if(t.hasOwnProperty(e)){var i=t[e];i.hasOwnProperty("__bind__")&&(t[e]=i.$value,r.watchers.push({model:i.__bind__.model,expression:i.$expression,update:function(t,r){var i=void 0===t?"":t;this.style[e]=(0,n.getPixelValue)(e,i)}}))}};for(var o in t)i(o);break;case"value":if(t.hasOwnProperty("__bind__")){var s=this.tagName||"";"input"!==(s=s.toLowerCase())&&"textarea"!==s||(this.props.value=t.$value,this.watchers.push({model:t.__bind__.model,expression:t.$expression,update:function(e,t){var r=void 0===e?"":e;this.value=r}}))}break;case"textContent":t.hasOwnProperty("__bind__")&&(this.props[e]=t.$value,this.watchers.push({model:t.__bind__.model,expression:t.$expression,update:function(e,t){var r=void 0===e?"":e;this.textContent=r}}));break;default:t.hasOwnProperty("__bind__")&&(this.props[e]=t.$value,this.watchers.push({model:t.__bind__.model,expression:t.$expression,update:function(t,r){var i=void 0===t?"":t;(0,n.setAttr)(this,e,i)}}))}}(0,n.inherits)(s,i.Element),s.prototype.render=function(){var e=this.__proto__.__proto__.render.call(this);return e._watchers=[],this.watchers.forEach(function(t){return e._watchers.push(new o.Watcher(t.model,t.expression,t.update.bind(e)))}),e}},{"./../mvvm":9,"./../utilities":15,"./element":3}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Element=i;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./../utilities"));function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!(this instanceof i))return n.isArray(r)||null==r||(r=n.slice(arguments,2).filter(n.truthy)),new i(e,t,r);!n.isObject(t)&&n.isArray(t)&&(r=t,t={}),this.tagName=e,this.props=t||{},this.children=n.isArray(r)?r:[].concat(r)}i.prototype.appendChild=function(e){this.children.push(e)},i.prototype.appendChildren=function(e){var t;(t=this.children).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))},i.prototype.render=function(){var e=document.createElement(this.tagName),t=this.props;if(n.isObject(t))for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];n.setAttr(e,r,o)}return this.children.forEach(function(t){e.appendChild(t instanceof i?t.render():document.createTextNode(t))}),e}},{"./../utilities":15}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ElementList=a;var n=e("./../mvvm"),i=e("../utilities"),o=e("./dynamicelement");function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"div",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"div";if(!(0,i.isArray)(e.$value))throw"InvalidArgumentException";if(this.bindModel=e,this.parentProps=t,this.props=r,this.parentTagName=a,this.tagName=l,this.bindTemplates=[],this.elements=[],this.watchers=[],(0,i.isObject)(r))for(var c in r)if(r.hasOwnProperty(c)){var h=r[c];u.call(this,c,h)}e.$value.forEach(function(e){var t=(0,i.deepCopyBoundProps)(r);n.bindTemplates.forEach(function(r){return(0,i.updateObjectByPath)(t,e[r.key],r.path)}),n.elements.push(new o.DynamicElement(l,t))}),this.watchers.push({model:this.bindModel.__bind__.model,expression:this.bindModel.$expression,update:function(e,t,r,n){var a=this,u=null;switch(["push","unshift"].indexOf(r)>-1&&n.length>0&&(this._bindTemplates.forEach(function(e){return(0,i.updateObjectByPath)(a._props,n[0][e.key],e.path)}),u=new o.DynamicElement(this.tagName,this._props).render()),r){case"push":n.length>0&&this.appendChild(u);break;case"shift":this.hasChildNodes()&&this.firstChild.remove();break;case"pop":this.hasChildNodes()&&this.lastChild.remove();break;case"unshift":n.length>0&&this.insertBefore(u,this.firstChild);break;case"reverse":Array.prototype.slice.call(this.children).map(function(e){return a.removeChild(e)}).reverse().forEach(function(e){return a.appendChild(e)});break;case"splice":var l=Array.prototype.slice.call(this.children).map(function(e){return a.removeChild(e)});l.splice.apply(l,s([].slice.call(n,0,2)).concat(s([].slice.call(n,2).map(function(e){return a._bindTemplates.forEach(function(t){return(0,i.updateObjectByPath)(a._props,e[t.key],t.path)}),new o.DynamicElement(a.tagName,a._props).render()})))),l.forEach(function(e){return a.appendChild(e)});break;default:throw"NotImplementedException"}}})}function u(e,t){switch(e){case"style":for(var r in t)t.hasOwnProperty(r)&&this.bindTemplates.push({path:e+"."+r,key:t[r].$key});break;default:t.hasOwnProperty("__bind__")&&this.bindTemplates.push({path:e,key:t.$key})}}a.prototype.render=function(){var e=new o.DynamicElement(this.parentTagName,this.parentProps,this.elements).render();return e._props=this.props,e._bindTemplates=this.bindTemplates,this.watchers.forEach(function(t){return e._watchers.push(new n.Watcher(t.model,t.expression,t.update.bind(e)))}),e}},{"../utilities":15,"./../mvvm":9,"./dynamicelement":2}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./element");Object.defineProperty(r,"Element",{enumerable:!0,get:function(){return n.Element}});var i=e("./dynamicelement");Object.defineProperty(r,"DynamicElement",{enumerable:!0,get:function(){return i.DynamicElement}});var o=e("./div");Object.defineProperty(r,"Div",{enumerable:!0,get:function(){return o.Div}});var s=e("./elementlist");Object.defineProperty(r,"ElementList",{enumerable:!0,get:function(){return s.ElementList}})},{"./div":1,"./dynamicelement":2,"./element":3,"./elementlist":4}],6:[function(e,t,r){"use strict";e("./utilities/polyfill");var n,i=e("./simplesheet"),o=(n=i)&&n.__esModule?n:{default:n};window.SimpleSheet||(window.SimpleSheet=o.default)},{"./simplesheet":13,"./utilities/polyfill":16}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){var i=!1;e.addEventListener("scroll",function(e){var n=e.target,o=n.scrollTop,s=n.scrollLeft;i||(requestAnimationFrame(function(){t.style.top=-o+"px",r.style.left=-s+"px",i=!1}),i=!0)});var o=void 0,s=new n.Vector2,a=new n.Vector2,u=new n.Vector2,l=0,c=0;e.addEventListener("touchstart",function(t){t.preventDefault(),s.x=t.changedTouches[0].pageX,s.y=t.changedTouches[0].pageY,l=e.scrollLeft,c=e.scrollTop,o=t.timeStamp},!1),e.addEventListener("touchmove",function(t){t.preventDefault();var r=e.getBoundingClientRect(),i=new n.Vector2(t.changedTouches[0].pageX,t.changedTouches[0].pageY);if(a=i.subtract(s),u=a,i.x>r.left&&i.y>r.top&&i.x<r.left+r.width&&i.y<r.top+r.height){var o=u.getAngleDegrees();o>=-135&&o<=-45?u.x=0:o>45&&o<135?u.x=0:o>=135&&o<=180||o>=-180&&o<-135?u.y=0:o>=-45&&o<=45&&(u.y=0);var h=c-u.y,d=l-u.x;e.scrollTop=Math.max(Math.min(h,e.scrollHeight),0),e.scrollLeft=Math.max(Math.min(d,e.scrollWidth),0)}},!1),e.addEventListener("touchend",function(t){t.preventDefault();var r=t.timeStamp-o,i=a.length()/r*10,s=10*i,l=0;!function t(){var r=new n.Vector2(e.scrollLeft,e.scrollTop),o=u.length();if(o>0){var a=u.divide(o),c=1-l/s,h=n.easingFuncs.easeInOutQuad(c);r=r.subtract(a.multiply(i*h)),e.scrollLeft=r.x,e.scrollTop=r.y}l<s&&(l++,requestAnimationFrame(t))}()},!1)};var n=e("./../utilities")},{"./../utilities":15}],8:[function(e,t,r){"use strict";function n(){this._subsQueue=[],this.id=(Math.random()+1).toString(36).substring(2)}Object.defineProperty(r,"__esModule",{value:!0}),r.Depend=n,n.prototype.addSub=function(e){this._subsQueue.push(e)},n.prototype.notify=function(e,t){this._subsQueue.forEach(function(r){r.run(e,t)})},n.prototype.removeSub=function(e){var t=this._subsQueue.indexOf(e);t>-1&&this._subsQueue.splice(t,1)},n.prototype.destroy=function(){this._subsQueue=[]},n.target=null},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./mvvm");Object.defineProperty(r,"Mvvm",{enumerable:!0,get:function(){return n.Mvvm}});var i=e("./watcher");Object.defineProperty(r,"Watcher",{enumerable:!0,get:function(){return i.Watcher}})},{"./mvvm":10,"./watcher":12}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Mvvm=o;var n=e("./observer"),i=e("./../utilities");function o(e){this.model=e||{},this.observer=new n.Observer(e)}o.prototype.bindModel=function(e){var t=this.model,r=(0,i.parseExpression)(e)(this.model);return r?{__bind__:{model:t},$expression:e,$value:r}:null},o.prototype.bindItem=function(e){var t=this.model;return e?{__bind__:{model:t},$key:e}:null}},{"./../utilities":15,"./observer":11}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Observer=function(e){this.$observe=function(e){(0,i.isArray)(e)?this.$cloneArray(e):(0,i.isObject)(e)&&this.$observeObj(e)},this.$observeObj=function(e){for(var t in e){var r=e[t];s(e,t,r),"__observe__"!=t&&this.$observe(r)}},this.$cloneArray=function(e){var t=Array.prototype,r=Object.create(t);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(n){Object.defineProperty(r,n,{value:function(r){var i=e.__observe__,o=t[n].apply(e,arguments);return i.notify(n,arguments),o},enumerable:!1,configurable:!0,writable:!0})}),e.__proto__=r},this.$observe(e)};var n=e("./depend"),i=e("./../utilities");var o=function(e){if(e&&(0,i.isObject)(e)){var t=new n.Depend;return(0,i.isArray)(e)?(e.__observe__=t,t):void 0}};function s(e,t,r){if("__observe__"!=t){r=r||e[t];var i=new n.Depend;e.__observe__=i;var s=o(r);Object.defineProperty(e,t,{get:function(){var e=n.Depend.target;return e&&(i.addSub(e),s&&s.addSub(e)),r},set:function(e){e!=r&&(r=e,i.notify())}})}}},{"./../utilities":15,"./depend":8}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Watcher=o;var n=e("./depend"),i=e("./../utilities");function o(e,t,r){this.model=e,this.expression=t,this.update=r,this.getter=(0,i.parseExpression)(t),n.Depend.target=this,this.value=this.getter(e),n.Depend.target=null}o.prototype.run=function(e,t){var r=this.value,n=this.value=this.getter(this.model);this.update(n,r,e,t)}},{"./../utilities":15,"./depend":8}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./utilities"),o=e("./mvvm"),s=e("./elements"),a=e("./events/tablescrollevents"),u=(n=a)&&n.__esModule?n:{default:n};r.default=function(e){var t=this;this.container=document.querySelector(e);var r=this.container;this.$options={},this.model={axis:{horizontal:[{text:"X",width:72},{text:"Y",width:20},{text:"Z",width:108}],vertical:[]},width:50,height:50,color:"#b4b4b4"};var n=this.mvvm=new o.Mvvm(this.model);r.querySelector(".grid-bg").appendChild(new s.DynamicElement("div",{style:{position:"absolute",display:"inline-block","text-align":"center","z-index":10,width:n.bindModel("width"),height:n.bindModel("height"),"line-height":n.bindModel("height"),"background-color":n.bindModel("color")},class:n.bindModel("color"),textContent:n.bindModel("color")}).render());var a=new s.ElementList(n.bindModel("axis.horizontal"),{class:"ruler-cells",style:{left:n.bindModel("height")}},{class:"ruler-cell",style:{width:n.bindItem("width")},textContent:n.bindItem("text")});setInterval(function(){t.model.width=200*Math.random()+50,t.model.height=parseInt(200*Math.random()+50),t.model.color="#"+((1<<24)*Math.random()|0).toString(16),t.model.axis.horizontal.push({text:Math.floor(26*Math.random()),width:Math.floor(100*Math.random())}),t.model.axis.horizontal.shift()},1e3);new s.Div("ruler-cells",[].concat.apply([],Array(103)).map(function(e,t){return new s.Div("ruler-cell",(0,i.generateRulerText)(t))}));var l=new s.Div("ruler-cells",[].concat.apply([],Array(95)).map(function(e,t){return new s.Div("ruler-cell",t+1)})),c=new s.Div("h-lines",[].concat.apply([],Array(95)).map(function(e,t){return new s.Element("div",{style:{top:t%95*18,width:7416},class:"line"})})),h=new s.Div("v-lines",[].concat.apply([],Array(103)).map(function(e,t){return new s.Element("div",{style:{left:t%103*72,height:1710},class:"line"})}));r.querySelector(".horizontal-ruler").appendChild(a.render()),r.querySelector(".vertical-ruler").appendChild(l.render()),r.querySelector(".grid-bg").appendChild(c.render()),r.querySelector(".grid-bg").appendChild(h.render()),(0,u.default)(r.querySelector(".table-grid"),r.querySelector(".vertical-ruler"),r.querySelector(".horizontal-ruler .ruler-cells"))}},{"./elements":5,"./events/tablescrollevents":7,"./mvvm":9,"./utilities":15}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./util");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})});var i=e("./vector2");Object.defineProperty(r,"Vector2",{enumerable:!0,get:function(){return i.Vector2}});var o=e("./easingfuncs");Object.defineProperty(r,"easingFuncs",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},{"./easingfuncs":14,"./util":17,"./vector2":18}],16:[function(e,t,r){"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,r;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),r=0;r<i;){var o;r in n&&(o=n[r],e.call(t,o,r,n)),r++}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},writable:!0,configurable:!0}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=["background-position-x","background-position-y","background-repeat-x","background-repeat-y","baseline-shift","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-image-width","border-left-width","border-radius","border-right-width","border-spacing","border-top-left-radius","border-top-right-radius","border-top-width","border-width","bottom","font-size","height","left","letter-spacing","line-height","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","outline-offset","outline-width","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","right","stroke-width","text-indent","text-line-through-width","text-overline-width","text-underline-width","top","width","word-spacing"],o=function(e){return Object.prototype.toString.call(e).replace(/\[object\s|\]/g,"")},s=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},a=function(e){return e&&"object"==(void 0===e?"undefined":n(e))&&(e==window||e instanceof Object)},u=function(e,t){return i.indexOf(e)>-1&&s(t)?t+"px":t},l=function(e){return JSON.parse(JSON.stringify(e,function(e,t){return"__observe__"==e?void 0:t}))};r.truthy=function(e){return!!e},r.slice=function(e,t){return Array.prototype.slice.call(e,t)},r.isArray=function(e){return"Array"===o(e)},r.isString=function(e){return"String"===o(e)},r.isNumeric=s,r.isObject=a,r.setAttr=function(e,t,r){switch(t){case"style":for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];e.style[n]=u(n,i)}break;case"value":var o=e.tagName||"";"input"===(o=o.toLowerCase())||"textarea"===o?e.value=r:e.setAttribute(t,r);break;case"textContent":e.textContent=r;break;default:e.setAttribute(t,r)}},r.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},r.generateRulerText=function(e){var t=[];for(e+=1;e>0;){var r=e%26||26;t.unshift(String.fromCharCode(64+r)),e=(e-r)/26}return t.join("")},r.parseExpression=function(e){var t=e.split(".");return function(e){return t.forEach(function(t){e=e[t.trim()]}),a(e)?l(e):e}},r.getPixelValue=u,r.updateObjectByPath=function(e,t,r){for(var n=r.split(".");n.length>1;)e=e[n.shift()];e[n.shift()]=t},r.deepCopyBoundProps=l},{}],18:[function(e,t,r){"use strict";function n(e,t){this.x=e||0,this.y=t||0}Object.defineProperty(r,"__esModule",{value:!0}),r.Vector2=n,n.prototype.negative=function(){return new n(-this.x,-this.y)},n.prototype.add=function(e){return e instanceof n?new n(this.x+e.x,this.y+e.y):new n(this.x+e,this.y+e)},n.prototype.subtract=function(e){return e instanceof n?new n(this.x-e.x,this.y-e.y):new n(this.x-e,this.y-e)},n.prototype.multiply=function(e){return e instanceof n?new n(this.x*e.x,this.y*e.y):new n(this.x*e,this.y*e)},n.prototype.divide=function(e){return e instanceof n?new n(this.x/e.x,this.y/e.y):new n(this.x/e,this.y/e)},n.prototype.equals=function(e){return this.x==e.x&&this.y==e.y},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.cross=function(e){return this.x*e.y-this.y*e.x},n.prototype.length=function(){return Math.sqrt(this.dot(this))},n.prototype.unit=function(){return this.divide(this.length())},n.prototype.toArray=function(e){return[this.x,this.y].slice(0,e||2)},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.init=function(e,t){return this.x=e,this.y=t,this},n.prototype.getAngleDegrees=function(){return 180*Math.atan2(this.y,this.x)/Math.PI}},{}]},{},[6]);